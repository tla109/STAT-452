"0","### Fit linear models to predict Ozone using each predictor"
"0","### individually, all predictors together, and all interactions with curvature"
"0","### Note: These models must be fit using data.train so that we can"
"0","### evaluate their MSPE on data.valid"
"0","fit.temp <- lm(Ozone ~ Temp, data = data.train)"
"0","fit.wind <- lm(Ozone ~ Wind, data = data.train)"
"0","fit.solar <- lm(Ozone ~ Solar.R, data = data.train)"
"0","fit.all <- lm(Ozone ~ Temp + Wind + Solar.R, data = data.train)"
"0","fit.intcurv <- lm(Ozone ~ Temp + Wind + Solar.R + I(Temp^2) + I(Wind^2) + I(Solar.R^2)"
"0","+ Temp*Wind + Temp*Solar.R + Wind*Solar.R, data = data.train)"
"0",""
"0","### Get predictions on the validation set for each model using the"
"0","### predict() function."
"0","pred.temp <- predict(fit.temp, data.valid)"
"0","pred.wind <- predict(fit.wind, data.valid)"
"0","pred.solar <- predict(fit.solar, data.valid)"
"0","pred.all <- predict(fit.all, data.valid)"
"0","pred.intcurv <- predict(fit.intcurv, data.valid)"
"0",""
"0","### When we calculate validation set MSPEs for our models, we will"
"0","### end up repeating the same calculation 5 times. Let's make a"
"0","### function to do this for us."
"0","get.MSPE <- function(Y, Y.hat) {"
"0","  residuals <- Y - Y.hat"
"0","  resid.sq <- residuals^2"
"0","  SSPE <- sum(resid.sq)"
"0","  MSPE <- SSPE / length(Y)"
"0","  return(MSPE)"
"0","}"
"0",""
"0","### Use our get.MSPE() function to calculate the validation set MSPE"
"0","### of each model"
"0","Y.valid <- data.valid$Ozone"
"0","MSPE.temp <- get.MSPE(Y.valid, pred.temp)"
"0","MSPE.wind <- get.MSPE(Y.valid, pred.wind)"
"0","MSPE.solar <- get.MSPE(Y.valid, pred.solar)"
"0","MSPE.all <- get.MSPE(Y.valid, pred.all)"
"0","MSPE.intcurv <- get.MSPE(Y.valid, pred.intcurv)"
"0",""
"0","### Let's compare these validation set MSPEs"
"0","print(MSPE.temp)"
"1","[1]"
"1"," 586.7952"
"1","
"
"0","print(MSPE.wind)"
"1","[1]"
"1"," 574.8944"
"1","
"
"0","print(MSPE.solar)"
"1","[1]"
"1"," 934.5455"
"1","
"
"0","print(MSPE.all)"
"1","[1]"
"1"," 387.3352"
"1","
"
"0","print(MSPE.intcurv)"
"1","[1]"
"1"," 327.3287"
"1","
"
